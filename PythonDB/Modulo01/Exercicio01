import sqlite3
from time import sleep

# Anima√ß√£o de carregamento
for i in range(1, 21):
    print("*" * i, end="\r")
    sleep(0.2)

# Cabe√ßalho
print("\n" + "=" * 50)
print("Seja bem-vindo √† Aula de Python com Banco de Dados")
print("=" * 60)

# Solicita√ß√£o de dados do usu√°rio
nome = input("Digite seu nome: ").strip().title()
sobrenome = input("Digite seu sobrenome: ").strip().title()
idade = input("Digite sua idade: ").strip()

# Conex√£o com o banco de dados SQLite
conexao = sqlite3.connect("Abobrinha.db")
cursor = conexao.cursor()

# Pergunta sobre cria√ß√£o de nova tabela
resposta = input(f"{nome}, voc√™ deseja criar uma nova tabela? (s/n): ").strip().lower()

if resposta == "s":
    nome_tabela = input("Digite o nome da nova tabela: ").strip()

    # Cria√ß√£o da tabela
    sql_criar = f"CREATE TABLE IF NOT EXISTS {nome_tabela} (id INTEGER PRIMARY KEY AUTOINCREMENT)"
    cursor.execute(sql_criar)
    conexao.commit()
    print(f"Tabela '{nome_tabela}' criada com sucesso!")

    # Pergunta se deseja deletar a tabela
    deletar = input(f"{nome}, voc√™ deseja deletar a tabela '{nome_tabela}'? (s/n): ").strip().lower()
    if deletar == "s":
        sql_deletar = f"DROP TABLE IF EXISTS {nome_tabela}"
        cursor.execute(sql_deletar)
        conexao.commit()
        print(f"Tabela '{nome_tabela}' foi deletada com sucesso!")
    else:
        print("Tabela mantida no banco de dados.")

else:
    print("Nenhuma tabela foi criada.")

# Pergunta se deseja continuar
continuar = input(f"{nome}, voc√™ deseja continuar no sistema? (s/n): ").strip().lower()
if continuar == "s":
    print("Retornando ao sistema... (mas aqui terminamos o exemplo üòÑ)")
else:
    print("Saindo do sistema... At√© a pr√≥xima!")

# Fecha a conex√£o
conexao.close()